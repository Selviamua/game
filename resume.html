<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CareerCraft AI - 求职材料生成器 (真实API版)</title>
    <!-- 引入一个轻量级的Markdown解析库 -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #1a73e8;
            margin-bottom: 10px;
        }
        .description {
            text-align: center;
            color: #5f6368;
            margin-bottom: 30px;
        }
        .api-key-section {
            text-align: center;
            margin-bottom: 25px;
            padding: 15px;
            background-color: #e8f0fe;
            border: 1px solid #1a73e8;
            border-radius: 8px;
        }
        .api-key-section label {
            font-weight: bold;
            color: #1967d2;
        }
        .api-key-section input {
            margin-left: 10px;
            padding: 8px;
            border-radius: 4px;
            border: 1px solid #ccc;
            width: 350px;
        }
        .input-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }
        .input-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #3c4043;
        }
        textarea, input[type="text"] {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #dadce0;
            font-size: 14px;
            box-sizing: border-box;
            resize: vertical;
        }
        textarea {
            height: 450px;
        }
        .generate-button {
            display: block;
            width: 100%;
            padding: 15px;
            font-size: 18px;
            font-weight: bold;
            color: #fff;
            background-color: #1a73e8;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .generate-button:hover {
            background-color: #185abc;
        }
        .generate-button:disabled {
            background-color: #9e9e9e;
            cursor: not-allowed;
        }
        #output-container {
            margin-top: 30px;
            background-color: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            min-height: 200px;
            display: none; /* 默认隐藏 */
        }
        #output-container h2 {
            margin-top: 0;
            color: #1a73e8;
        }
        /* AI返回内容的美化 */
        #output-content h3 { border-bottom: 2px solid #e0e0e0; padding-bottom: 5px; margin-top: 25px;}
        #output-content h4 { color: #3c4043; }
        #output-content ul { list-style-type: disc; padding-left: 20px; }
        #output-content li { margin-bottom: 8px; }
        #output-content code { background-color: #e8eaed; padding: 2px 4px; border-radius: 4px; font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace; }
        
        @media (max-width: 768px) {
            .input-grid {
                grid-template-columns: 1fr;
            }
            .api-key-section input {
                width: 60%;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>💻 CareerCraft AI - 求职材料生成器 (真实API版)</h1>
        <p class="description">输入职位描述 (JD) 和您的主简历，AI 将为您生成一份高度匹配的简历和求职信。</p>

        <div class="api-key-section">
            <label for="api-key">输入您的 Gemini API 密钥:</label>
            <input type="password" id="api-key" placeholder="在此输入从 Google AI Studio 获取的密钥">
        </div>

        <div class="input-group">
             <label for="user-name">您的姓名:</label>
             <input type="text" id="user-name" value="Leo Chen">
        </div>
        <br>
        <div class="input-grid">
            <div class="input-group">
                <label for="jd-text">职位描述 (JD)</label>
                <textarea id="jd-text" placeholder="在此粘贴目标职位的完整JD">🚨 JOB ALERT: AI/ML ENGINEER @ Letly 🚨

Ready to build the future of AI in real estate? 🏙️ Letly is on a mission to automate rental workflows end-to-end — managing trillions in global rent spend with cutting-edge agentic AI. Backed by a fresh pre-seed round, we’re hiring ONE exceptional AI/ML Engineer to join our founding team and drive real-world AI into production.

🎯 This role is perfect for you if you:
✅ Are a strong software engineer with deep knowledge of data structures, system design, OOP
✅ Have hands-on experience with LLMs, ML/DL frameworks like PyTorch, TensorFlow, LangChain
✅ Know how to deploy, monitor & optimise ML models in real-world systems
✅ Are comfortable with MLOps tooling (CI/CD, Docker, Kubernetes) & cloud platforms (GCP/AWS/Azure)
✅ Want to build first-of-its-kind AI infrastructure with a lean, focused, high-performing team
✅ Love building smart, scalable tech that makes a massive impact

🧠 What you’ll do:
Build production-grade AI/ML systems (NLP, OCR, LLM-based)
Develop and manage robust MLOps pipelines and infrastructure
Optimise models for performance, scalability, and cost
Deploy observability tools (OpenTelemetry, Grafana)
Collaborate with software engineers to embed AI into the product using APIs
Create real-time, context-rich inference systems and retrieval-aware repositories
💥 What you'll accomplish in your first 90 days:
Deliver a rule-evaluation microservice using JSONLogic/CEL + MongoDB
Integrate Pub/Sub sinks and land events in BigQuery
Launch observability stack with dashboards + alerting 🚨

🔍 We’re looking for someone smart, intense, focused, and ready to build things fast and well.
📍 Location: Remote or flexible (we work async and move quickly)
🕐 Start Date: ASAP
💸 Compensation: Competitive + equity + massive early-stage impact
📩 Think you’re the one? Let’s talk. Apply now and help shape the AI backbone of the rental economy.</textarea>
            </div>
            <div class="input-group">
                <label for="resume-text">您的主简历</label>
                <textarea id="resume-text" placeholder="在此粘贴您的主简历，特别是“工作经历”部分">Leo Chen

Shenzhen, Guangdong, China | +86 138 0013 8000 | leo.chen.ai@email.com | linkedin.com/in/leochenai | github.com/leochen-ai

Summary

A results-driven and innovative AI/ML Engineer with over 5 years of experience in designing, developing, and deploying machine learning solutions for complex business problems. Proven expertise in Natural Language Processing (NLP) and Computer Vision, with a strong track record of improving model performance and system efficiency. Seeking to leverage advanced skills in deep learning and MLOps to contribute to a challenging AI-focused role.

Education

Shanghai Jiao Tong University | Shanghai, China
  Master of Science in Computer Science (Specialization in Artificial Intelligence) | Sep 2018 – Jun 2020
  Thesis: "Attention-based Mechanisms for Abstractive Text Summarization"
Huazhong University of Science and Technology | Wuhan, Hubei, China
  Bachelor of Engineering in Software Engineering | Sep 2014 – Jun 2018
  Graduated with Honors

Skills

Programming Languages: Python (Expert), C++, SQL, Java
ML/DL Frameworks: PyTorch, TensorFlow, Scikit-learn, Keras, Hugging Face Transformers
AI/ML Concepts:
  Deep Learning (CNN, RNN, LSTM, Transformers)
  Natural Language Processing (Sentiment Analysis, NER, Text Summarization, Topic Modeling)
  Computer Vision (Object Detection, Image Segmentation, Facial Recognition)
  Reinforcement Learning, Supervised & Unsupervised Learning
MLOps & Tools: Docker, Kubernetes, Git, CI/CD (Jenkins), MLflow, Kubeflow
Data & Cloud: AWS (S3, SageMaker, EC2), Google Cloud Platform (GCP), Apache Spark, Pandas, NumPy, SQL/NoSQL Databases
Languages: Mandarin (Native), English (Professional Working Proficiency)

Work Experience

Senior AI/ML Engineer | Tencent | Shenzhen, China
July 2022 – Present
Led the development and deployment of a real-time sentiment analysis engine for user-generated content, processing over 10 million daily text entries.
Engineered and fine-tuned a BERT-based model that improved sentiment classification accuracy by 18% over the previous system.
Designed and implemented a full MLOps pipeline using Docker, Kubernetes, and MLflow for automated model training, validation, and deployment, reducing the deployment cycle from 2 weeks to 1 day.
Collaborated with data engineering teams to build scalable data processing pipelines with Apache Spark, handling terabytes of unstructured text data.
Mentored 2 junior engineers, providing guidance on best practices for model development and code optimization.
AI/ML Engineer | DJI | Shenzhen, China
July 2020 – June 2022
Developed computer vision algorithms for real-time object detection and tracking on embedded systems for autonomous drones.
Implemented a lightweight CNN model using PyTorch that achieved a 95% accuracy in obstacle detection while maintaining a low inference time (<30ms).
Conducted extensive data augmentation and preprocessing on large-scale image datasets to improve model robustness and generalization.
Published research on "Efficient Convolutional Networks for Edge Devices" in an internal R&D journal.
Contributed to the full machine learning lifecycle from data collection and feature engineering to model training and evaluation.

Projects

Personal GitHub Project: Neural Style Transfer for Video
Developed a Python application that applies the artistic style of one image to a video file, frame by frame.
Utilized a pre-trained VGG-19 network for content and style feature extraction and optimized the loss function using a weighted sum of content loss and style loss, including L_2 regularization.
Tech Stack: PyTorch, OpenCV, NumPy.
Academic Project: GPT-2 Fine-Tuning for Chatbot Development
Fine-tuned a GPT-2 model on a specialized conversational dataset to create a domain-specific chatbot.
Implemented techniques for managing conversation history and context to generate more coherent and relevant responses.
Tech Stack: Hugging Face Transformers, PyTorch, NLTK.

Certifications

AWS Certified Machine Learning – Specialty | Issued: 2023</textarea>
            </div>
        </div>

        <button id="generate-btn" class="generate-button">✨ 生成求职材料</button>

        <div id="output-container">
            <h2>✅ AI 生成的结果</h2>
            <div id="output-content"></div>
        </div>
    </div>

    <script>
        const generateBtn = document.getElementById('generate-btn');
        const outputContainer = document.getElementById('output-container');
        const outputContent = document.getElementById('output-content');
        const apiKeyInput = document.getElementById('api-key');

        generateBtn.addEventListener('click', async () => {
            const apiKey = apiKeyInput.value.trim();
            const userName = document.getElementById('user-name').value;
            const jdText = document.getElementById('jd-text').value;
            const resumeText = document.getElementById('resume-text').value;

            if (!apiKey) {
                alert('请输入您的 Gemini API 密钥！');
                return;
            }
            if (!userName || !jdText || !resumeText) {
                alert('请确保所有字段（姓名、JD、简历）都已填写！');
                return;
            }

            generateBtn.disabled = true;
            generateBtn.textContent = '🧠 AI 正在思考中，请稍候...';
            outputContainer.style.display = 'none';

            // 构建发送给AI的完整Prompt
            const finalPrompt = `
# [AI ROLE]
You are "CareerCraft AI," an elite-level Career Strategist... (此处省略完整的角色定义，以保持代码简洁)

# [CORE OBJECTIVE]
My ultimate goal is to get an interview... (此处省略)

# [INPUT INFORMATION]

## 1. Your Name
${userName}

## 2. Job Description (JD)
---
${jdText}
---

## 3. My Master Resume
---
${resumeText}
---

# [EXECUTION INSTRUCTIONS: A THREE-PHASE WORKFLOW]
Please strictly follow the three-phase, seven-step workflow... (此处省略)

# [OUTPUT FORMAT]
Please strictly use the specified Markdown format for the final report.
`;
            
            try {
                // 调用真实的Gemini API
                const resultText = await callGeminiAPI(finalPrompt, apiKey);
                outputContent.innerHTML = marked.parse(resultText);
                outputContainer.style.display = 'block';
                outputContainer.scrollIntoView({ behavior: 'smooth' });
            } catch (error) {
                console.error('API 调用失败:', error);
                alert(`发生错误: ${error.message}\n\n请检查浏览器开发者控制台获取更多信息，并确认您的API密钥是否正确且有足够额度。`);
            } finally {
                generateBtn.disabled = false;
                generateBtn.textContent = '✨ 重新生成求职材料';
            }
        });

        /**
         * 调用 Google Gemini API 的函数，并带有指数退避重试机制
         * @param {string} promptText - 发送给模型的完整Prompt文本
         * @param {string} apiKey - 用户的API密钥
         * @returns {Promise<string>} - 返回模型生成的文本内容
         */
        async function callGeminiAPI(promptText, apiKey) {
            // 使用 gemini-1.5-pro-latest 以获得最佳的长文本处理能力
            const model = 'gemini-1.5-pro-latest';
            const apiURL = `https://generativelanguage.googleapis.com/v1beta/models/${model}:generateContent?key=${apiKey}`;

            const requestBody = {
                contents: [
                    {
                        parts: [
                            {
                                text: promptText
                            }
                        ]
                    }
                ]
            };

            const maxRetries = 5;
            let delay = 1000; // 初始延迟1秒

            for (let i = 0; i < maxRetries; i++) {
                const response = await fetch(apiURL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(requestBody)
                });

                if (response.ok) {
                    const responseData = await response.json();
                    if (responseData.candidates && responseData.candidates.length > 0 &&
                        responseData.candidates[0].content && responseData.candidates[0].content.parts &&
                        responseData.candidates[0].content.parts.length > 0) {
                        return responseData.candidates[0].content.parts[0].text;
                    } else {
                        throw new Error('API返回的数据格式不正确或内容为空。');
                    }
                } else if (response.status === 429) {
                    console.log(`请求被限流 (尝试 ${i + 1}/${maxRetries})。将在 ${delay / 1000} 秒后重试...`);
                    await new Promise(resolve => setTimeout(resolve, delay));
                    delay *= 2; // 指数增加延迟
                } else {
                    const errorData = await response.json();
                    throw new Error(`API 请求失败，状态码: ${response.status}. 错误信息: ${errorData.error.message}`);
                }
            }

            throw new Error(`API 请求在 ${maxRetries} 次重试后仍然失败。请检查您的网络连接或API配额。`);
        }
    </script>

</body>
</html>
